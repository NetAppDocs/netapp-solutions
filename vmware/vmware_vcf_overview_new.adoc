---
sidebar: sidebar
permalink: vmware/vmware_vcf_overview_new.html
keywords: netapp, vmware, cloud, foundation, vcf, flexpod
summary:
---

= VMware Cloud Foundation
:hardbreaks:
:nofooter:
:icons: font
:linkattrs:
:imagesdir: ../media/

[.lead]

== Introduction to VMware Cloud Foundation
VMware Cloud Foundation (VCF) is a set of technologies designed to simplify the journey to a hybrid cloud experience across a customer’s heterogeneous ecosystem. VCF integrates compute, network and storage offerings with VMware products and 3rd party integrations, facilitating both native Kubernetes and virtual machine-based workloads. This software platform includes key components such as VMware vSphere, NSX, Aria Suite Enterprise, Tanzu Kubernetes Grid, HCX Enterprise, SDDC Manager and storage-capacity linked to host CPU cores via vSAN. NetApp ONTAP integrates seamlessly with a variety of VCF deployment models both on-premises and in the public cloud.

image:vmware-vcf-overview-components.png[VMware Cloud Foundation Components]

== VCF Domains
Domains are a foundational construct within VCF that enable the organization of resources into distinct, independent groupings. Domains help organize the infrastructure more effectively, ensuring resources are utilized efficiently. Each domain is deployed with its own compute, network and storage elements. 

image:vmware-vcf-overview-domains.png[VMware Cloud Domains]

There are two primary types of domains with VCF:

* *Management Domain* – The management domain includes components responsible for the core functions of the VCF environment. The components handle essential tasks such as resource provisioning, monitoring, maintenance and include 3rd party plug-in integrations such as NetApp ONTAP Tools for VMware. Management domains can be deployed using the Cloud Builder Appliance to ensure best practices are followed, or an existing vCenter environment can be converted into a VCF management domain.

* *Virtual Infrastructure Workload Domain* – Virtual Infrastructure Workload domains are designed to be pools of resources dedicated to a specific operational need, workload or organization. Workload domains are deployed easily via the SDDC Manager, helping to automate a series of complex tasks. Up to 24 workload domains can be provisioned within a VCF environment, with each representing a unit of application-ready infrastructure.  

== Storage with VCF
Central to the functionality of domains is the storage that they consume. While VCF includes CPU-core based vSAN capacity for hyper-converged use cases, it also supports a wide range of external storage solutions. This flexibility is crucial for enterprises that have significant investments in existing storage arrays or need to support protocols beyond what vSAN affords. VMware supports multiple storage types with VCF.

There are two primary types of storage with VCF:

* *Principal storage* – This storage type is allocated during the initial creation of the domain. For management domains, this storage houses the VCF administrative and operations components. For workload domains, this storage is designed to support the workloads, VMs or containers for which the domain was deployed. 

* *Supplemental storage* – Supplemental storage can be added to any workload domain after deployment. This storage type helps organizations leverage existing investments in storage infrastructure and integrate various storage technologies to optimize performance, scalability, and cost-efficiency.

*Support VCF Storage types*
[width=100%,cols="25%, 25%, 50%"]
|===
| *Domain Type* | *Principal Storage* | *Supplemental Storage*
| Management Domain |  vSAN
                       FC* 
                        NFS*
                                                
                         | vVols (FC, iSCSI, or NFS)
                            FC
                            NFS
                            iSCSI
                            NVMe/TCP
                            NVMe/FC
                            NVMe/RDMA

| Virtual Infrastructure Workload Domain | vSAN 
                                            vVols (FC, iSCSI, or NFS)
                                            FC
                                            NFS
                                            | vVols (FC, iSCSI, or NFS)
                                                FC
                                                NFS
                                                iSCSI
                                                NVMe/TCP
                                                NVMe/FC
                                                NVMe/RDMA

|===
Note: * Specific protocol support provided when using VCF Import Tool with existing vSphere environments. 

== Why ONTAP for VCF 
In addition to use cases involving investment protection and multiprotocol support, there are many additional reasons to take advantage of external shared storage within a VCF workload domain. It may be assumed that storage provisioned for a workload domain is merely a repository to host VMs and container. However, organization needs often outgrow the capabilities of the licensed-capacity and require enterprise storage. Storage provided by ONTAP, allocated to domains within VCF, is easy to deploy and offers a future-proof shared storage solution.  

image:why_ontap_for_vcf.png[Why ONTAP for VCF,640,480]

Some examples of the benefits of using ONTAP with VCF:

* *Flexibility on day 1 and as you scale.* The need to grow can arise for a variety of reasons with any architecture. Whether performance or capacity needs evolve, or as new host are added and network or fabric considerations arise, it is critical to choose a storage platform that allows for independent scaling of resources. 
+
With ONTAP, you can start with the capacity required, grow as needed and take advantage of tiering all without having to add additional compute hosts. Additionally, a single ONTAP cluster can be used with multiple workload domains and avoids the creation of storage islands. These benefits yield significant cost savings for organization. 

* *Offload storage tasks to ONTAP.* With typical HCI environments, the host platform is responsible for compute tasks, storage operations and any network optimization on the client side. For example, CPU overhead needs to be considered when determining the hardware requirements of the compute nodes. Often difficult to preemptively scope, this overhead is commonly accepted as 10-15% and is dependent on the I/O profile of the workloads. Additionally, it is important to consider memory consumption. Memory overhead is mandatory and shouldn’t be compromised to maintain performance. Hosts can offset this by taking advantage of RDMA-capable NICs, improving network transfer efficiency, at additional costs. Finally, with an HCI platform, storage functions such as storage efficiency, RAID and failure tolerances, and encryption are handled by the hosts.
+
Customers can mitigate any of these detrimental impacts on host CPU resources by leveraging ONTAP. This strategy enables hosts to focus on compute tasks while allowing ONTAP to manage the CPU-intensive storage operations. This strategy enhances overall performance by optimizing storage efficiency, encryption, snapshots, and more, all while reducing the total cost of ownership. By not only boosting host performance and decreasing the number of hosts needed to deliver the same workload, it also reduces the number of cores required per host, leading to further cost savings. These savings further extend to energy efficiency savings, reduced cooling requirements, optimized license costs and more; all by offloading CPU-intensive storge tasks to ONTAP and relying less on hosts to handle everything. 

* *Enterprise-grade data availability.* The protection of data is paramount for any IT organization. Planning for workload fault tolerances requires careful consideration to ensure an adequate number of nodes are available when hosts are responsible for storage operations. As the number of faults tolerated increases, as does the need for additional hosts and the amount of storage provisioned to accommodate the required VM storage capacity. 
+
ONTAP's comprehensive availability features ensure that data is always accessible, secure, and resilient, making it a reliable choice for VMware deployments of all sizes. Leveraging shared storage in VMware environments facilitates the deployment of smaller vSphere clusters, streamlining the setup process and enabling storage sharing across clusters with enhanced fault tolerance. 
+
Key ONTAP availability features include:

** High Availability (HA) Architecture: ONTAP supports a high-availability architecture that includes a clustered deployment model. 
** Automatic Failover and Failback: In the event of hardware or software failures, ONTAP allows for automatic failover to a standby storage node. Once the issue is resolved, failback can be performed to restore the original configuration, minimizing downtime.
** Built in data protection: ONTAP includes built-in data protection features such as RAID-DP and RAID-TEC, which provide enhanced protection against disk failures and ensure data integrity and availability.

* *Efficient backup and recovery operations.* In addition to protecting data in the event of various faults, we must plan to backup VMs and workloads as part of regular IT operations. Snapshots capture the state of a VM at a specific point in time, including the VM's disk, memory, and settings. This allows an administrator to revert the VM to a previous state if something goes wrong, such as a failed update, configuration change or falling victim to a ransomware or virus attack. The storage consumed by snapshots should be taken into account when designing a balanced solution for VMware environments. 
+
While snapshots are an important tool, an overreliance on VMware based snapshots raises concerns with respect to frequency and retention policies. Additionally, having too many VMware based snapshots can downgrade performance. It is important to consider alternative such as NetApp snapshot copies and SnapCenter Plug-in for VMware vSphere. SnapCenter leverages snapshot copies, which are read-only, point-in-time images of a volume that initially share disk blocks with the active file system, requiring no additional space and minimal storage. These snapshots have negligible performance overhead, capturing only changes since the last snapshot.  The SnapCenter Plug-in for VMware vSphere (SCV) utilizes these snapshots to deliver efficient, crash-consistent backups and restores for VMs, Datastores, and VMDKs. These operations are integrated seamlessly and without performance impact within a vCenter environment. Additionally, ONTAP enables the offloading of snapshots to object storage for long-term retention.

* *Wholistic business continuity capabilities.* Beyond standard fault tolerance, backup and recovery, an organization must plan for various scenarios such as disasters, ransomware attacks, and data center site migrations. With host-based storage, addressing these challenges typically involves relying on a range of third-party solutions to effectively mitigate disasters and ensure business continuity. Furthermore, for scenarios that are network intensive, insufficiently sizing the networking and storage devices can lead to significant performance impacts. 
+
Building on its availability features and backup and recovery capabilities, ONTAP is an integral component of a comprehensive business continuity strategy for VMware environments. Organizations need VMs and workloads to be seamlessly available during both normal and maintenance operations, safeguarded with robust protection and recovery capabilities, and capable of leveraging space-efficient and cost-effective disaster recovery solutions.
+
Key ONTAP business continuity features include:

** Data Replication with SnapMirror: Taking advantage of snapshot copies, SnapMirror enables asynchronous and synchronous replication of data to remote sites or cloud environments for disaster recovery
** MetroCluster: ONTAP's MetroCluster technology provides synchronous replication between geographically separated sites, ensuring zero data loss and rapid recovery in the event of a site failure.
** Cloud Tiering: Cloud Tiering automatically identifies cold data (data that is infrequently accessed) on primary storage and moves it to lower-cost object storage, either in the cloud or on-premises.
** BlueXP DRaaS: NetApp BlueXP Disaster Recovery as a Service (DRaaS) is a comprehensive solution designed to provide robust disaster recovery capabilities for businesses, ensuring data protection, rapid recovery, and business continuity in the event of a disaster. 

== Summary 
ONTAP provides a platform that addresses all workload requirements, offering customized block storage solutions and unified offerings to enable faster results for VMs and applications in a reliable and secure manner. ONTAP incorporates advanced data reduction and movement techniques to minimize the data center footprint, while ensuring enterprise-level availability to keep critical workloads online. Additionally, the AWS, Azure and Google support NetApp-powered external storage to enhance vSAN storage in VMware cloud-based clusters as part of their VMware-in-the-Cloud offerings. Overall, NetApp's superior capabilities make it a more effective choice for VMware Cloud Foundation deployments.

== Documentation resources

For detailed information on NetApp offerings for VMware Cloud Foundation, refer to the following the following: 

*VMware Cloud Foundation Documentation*

* link:https://techdocs.broadcom.com/us/en/vmware-cis/vcf.html[VMware Cloud Foundation Documentation]


*Four (4) part blog series on VCF with NetApp*

* link:https://www.netapp.com/blog/netapp-vmware-cloud-foundation-getting-started/[NetApp and VMware Cloud Foundation made easy Part 1: Getting started]

* link:https://www.netapp.com/blog/netapp-vmware-cloud-foundation-ontap-principal-storage/[NetApp and VMware Cloud Foundation made easy Part 2: VCF and ONTAP principal storage]

* link:https://www.netapp.com/blog/netapp-vmware-cloud-foundation-element-principal-storage/[NetApp and VMware Cloud Foundation made easy Part 3: VCF and Element principal storage]

* link:https://www.netapp.com/blog/netapp-vmware-cloud-foundation-supplemental-storage/[NetApp and VMware Cloud Foundation made easy - Part 4: ONTAP Tools for VMware and supplemental storage]

*VMware Cloud Foundation with NetApp All-Flash SAN Arrays*

* link:vmware_vcf_asa_overview.html[VCF with NetApp ASA arrays, Introduction and Technology Overview]

* link:vmware_vcf_asa_supp_mgmt_iscsi.html[Use Ontap Tools to deploy iSCSI datastores in a VCF management domain]

* link:vmware_vcf_asa_supp_wkld_vvols.html[Use Ontap Tools to deploy vVols (iSCSI) datastores in a VI workload domain]

* link:vmware_vcf_asa_supp_wkld_nvme.html[Configure NVMe over TCP datastores for use in a VI workload domain]

* link:vmware_vcf_asa_scv_wkld.html[Deploy and use the SnapCenter Plug-in for VMware vSphere to protect and restore VMs in a VI workload domain]

*VMware Cloud Foundation with NetApp All-Flash AFF Arrays*

* link:vmware_vcf_aff_overview.html[VCF with NetApp AFF arrays, Introduction and Technology Overview]

* link:vmware_vcf_aff_principal_nfs.html[Use ONTAP with NFS as principal storage for VI workload domains]

* link:vmware_vcf_aff_supp_wkld_nfs.html[Use ONTAP Tools to deploy NFS datastores in a VI workload domain]

*NetApp FlexPod solutions for VMware Cloud Foundation*

* link:https://www.netapp.com/blog/expanding-flexpod-hybrid-cloud-with-vmware-cloud-foundation/[Expanding FlexPod hybrid cloud with VMware Cloud Foundation]

* link:https://www.cisco.com/c/en/us/td/docs/unified_computing/ucs/UCS_CVDs/flexpod_vcf.html[FlexPod as a Workload Domain for VMware Cloud Foundation]

* link:https://www.cisco.com/c/en/us/td/docs/unified_computing/ucs/UCS_CVDs/flexpod_vcf_design.html[FlexPod as a Workload Domain for VMware Cloud Foundation Design Guide]

