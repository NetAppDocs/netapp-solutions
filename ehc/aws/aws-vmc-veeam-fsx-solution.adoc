---
sidebar: sidebar
permalink: ehc/aws/aws-vmc-veeam-fsx-solution.html
keywords: disaster recovery, vmc, vmware cloud, aws, amazon web services, nfs datastore, fsxn, fsx for ontap, fsx for netapp ontap, backup, restore, sql server, oracle
summary:
---

= Veeam Backup & Restore in VMware Cloud, with AWS FSx for ONTAP
:hardbreaks:
:nofooter:
:icons: font
:linkattrs:
// For the imagesdir setting, make sure the path to the media folder is correct.  The default path assumes
// the source is located in the root of the repository.  Select the appropriate setting based on the level
// of the folder containing the source
:imagesdir: ./media/
// :imagesdir: ./../media/
// :imagesdir: ./../../media/


[.lead]
Author: Josh Powell - NetApp Solutions Engineering

== Overview
// Describe WHAT problem this solution addresses.  What are the use cases(s) and how does it solve a problem?
// Use a bulleted list and keep it brief!

Veeam Backup & Replication is an effective and reliable solution for protecting data on VMware Cloud on AWS. This solution demonstrates the proper setup and configuration for using Veeam Backup and Replication to backup and restore application VMâ€™s residing on FSx for ONTAP NFS datastores in VMware Cloud.

VMware Cloud supports the use of NFS datastores as secondary storage, and FSx for NetApp ONTAP is a secure solution for customers who need to store large amounts of data for their cloud applications that can scale independent of the number of ESXi hosts in the SDDC cluster. This integrated AWS storage service offers highly efficient storage with all of the traditional NetApp ONTAP capabilities. 


This solution addresses the following use cases:

* Backup and restore of Windows and Linux virtual machines using FSx for NetApp ONTAP as a backup target.
* Backup and restore of Microsoft SQL Server application data using FSx for NetApp ONTAP as a backup target.
* Backup and restore of Oracle application data using FSx for Netapp ONTAP as a backup target.


== Audience
// Who is this solution directed at?  DevOps engineer, IT specialist, DB administrator, etc.
// If there are multiple audiences, use a list to identity them.

This solution is intended for the:

* VMware Cloud administrator interested in a proven backup and restore solution for their virtual machines and application data
* IT decision makers investigating data protection solutions that works seamlessly with VMware Cloud and FSx for NetApp ONTAP

== Solution Test / Validation Environment
// Identify the environment in which the solution was tested / validated.

// Things to consider including here are:
// * Architecture diagram
// * Software / hardware and version / release levels or model numbers
// * Specific configuration that might be unique to a lab / test environment



The testing / validation of this solution was performed in a lab that may or may not match the final deployment environment.  For more information, please refer to the following sections.

.Architecture
[%collapsible]
=====
// Insert an image that shows how the solution is architected.

image::image-name.jpg[Solution Architecture Diagram]
=====

.Hardware / Software Components
[%collapsible]
=====
// Identify the hardware and software components along with the appropriate hardware level or software versions
// Use the 3rd column if there is a related link that can be provided for more information

The purpose of this solution is to demonstrate data protection of virtual machines running in VMware Cloud and located on NFS Datastores hosted by FSx for NetApp ONTAP. This solution assumes the following components are already configured and ready for use:

* Microsoft Windows VM's located on an FSx for ONTAP NFS Datastore
* Linux (CentOS) VM's located on an FSx for ONTAP NFS Datastore
* Microsoft SQL Server VM's located on an FSx for ONTAP NFS Datastore
** Two databases hosted on separate VMDK's
* Oracle VM's located on an FSx for ONTAP NFS Datastore
* 

[%autowidth.stretch]
|===
// 3+^| *Hardware*
// | <hardware name> | <model / version> | More Information

3+^| *Software*
| VMware Cloud | 11.? | More Information
| Veeam Backup & Replication | 11.? | More Information
| Veeam Backup Proxy | 11.? | More Information
| FSx for NetApp ONTAP | ??? | More Information
| Microsoft Windows SQL Server | 2019 Datacenter | More Information
| Oracle | ??? | More Information
| Windows Server 2019 | ??? | More Information
| CentOS | 8.? | More Information
|===
=====

.Additional Notes
[%collapsible]
=====
// Identify anything that might differ in a production environment that was different in a lab environment or assumptions that were made

* Note 1
* Note 2
...
* Note n
=====

== Solution Deployment
// Describe the steps required to fully deploy the solution.
// Please use collapsible blocks with descriptive titles to condense the content in the published HTML.
// Include screenshots, demo videos, etc. that make the steps as simple and clear as possible.
// DO NOT overdo it with screenshots - where options are "obvious", a screenshot might not be necessary.

The deployment of this solution can be completed:

. Manually by following the detailed instructions complete with screenshots, 
. Manually by following along with videos showing the steps to be executed, or 
. Automatically following the instructions provided in the automation section.

[role="tabbed-block"]
====
.Detailed instructions
--
.Step 1: Create FSx for ONTAP file system to be used as the backup repository for the Veeam proxy servers
[%collapsible]
=====
1. In the AWS console, Go to FSx and then "Create file system" 

image::aws-vmc-veeam-image01.png[Create File System]

2. For file system type 
...
. Task n
=====

.Step 2: <descriptive step name>
[%collapsible]
=====
. Task 1
. Task 2
...
. Task n
=====

...

.Step n: <descriptive step name>
[%collapsible]
=====
. Task 1
. Task 2
...
. Task n
=====
--
.Video Walkthrough
--
<Include the video(s) details here>
--
.Automated Deployment
--
<include the automated steps/process/videos here>
--
====

== Other Deployment Options
// Are there other options for deployment (alternate 3rd party software, another way to address the same problem, etc.)?
// If so, BRIEFLY describe them here and point to documentation for more details on those options.

.<Description of Option 1>
[%collapsible]
=====
<enter the details of the option here>
=====

.<Description of Option 2>
[%collapsible]
=====
<enter the details of the option here>
=====

...

.<Description of Option n>
[%collapsible]
=====
<enter the details of the option here>
=====

== Additional Information
// Include references to other documentation (internal or external), videos, demos, blogs, etc. that support the solution.

* link:somewhere.html[Description of the document]
* link:somewhere-else.html[Description of another document]
