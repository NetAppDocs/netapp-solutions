---
sidebar: sidebar
permalink: ent-apps-db/hybrid_dbops_snapcenter_getting_started.html
summary: hybrid cloud database solutions with SnapCenter getting started
keywords: netapp, solutions, database, SnapCenter, "getting started"
---

= Hybrid Cloud Database Workflow Prerequisites
:hardbreaks:
:nofooter:
:icons: font
:linkattrs:
:table-stripes: odd
:imagesdir: ./../media/

[.lead]
Certain prerequisites needs to be configured at both on-prem and cloud before any actual hybrid cloud database workload execution. Following provide a high level summary and the details of the prerequisites configuration can be drilled down as needed through the attached links.

== On Premises

=== 1. SnapCenter Installation and Configuration

NetApp SnapCenter tool is a Windows based application that typically runs in a Windows domain environment although workgroup deployment is also possible. It is based on a multitiered architecture that includes a centralized management server (SnapCenter Server) and a SnapCenter plug-in on database server hosts for database workload. Here are few key considerations for hybrid cloud deployment.

. Single instance or HA deployment - HA deployment provides redundancy in case of a single SnapCenter server instance failure.
. Name resolution - DNS needs to be configured on SnapCenter server to resolve all database hosts as well as storage SVM both forward and reverse lookup. DNS also need to be configured on database servers to resolve SnapCenter server and storage SVM both forward and reverse lookup.
. Role based access control or RBAC configuration - For mixed database workloads, it maybe desirable to segregate the management responsibility using RBAC for different DB platform such as an admin for Oracle database and an admin for SQL Server etc. Necessary permissions needs to be granted for the DB admin user.
. Enable policy based backup strategy to enforce backup consistency and reliability.
. For on-prem SnapCenter server to communicate with agent installed in cloud DB host, necessary network ports needs to be open on the firewall.
. SnapCenter server relies on the underlined ONTAP snapmirror for replicating onsite snapshot backups to cloud CVO storage SVMs. Necessary ports needs to be open to allow snapmirror traffic between on-prem and public cloud.

After careful preinstall planning and consideration, click following installation workflow for details of SnapCenter installation and configuration. link:https://docs.netapp.com/us-en/snapcenter/install/install_workflow.html[SnapCenter Install Workflow^]

=== 2. On-prem Database Server Storage Configuration

Storage performance plays an important role in database and thus application overall performance. A well-designed storage layout can not only improve DB performance but also make it easy in managing DB backup and recovery. Several factors should be considered in defining your storage layout, including the size of the database, the rate of expected data change of the database, and the frequency with which you perform backups.

Directly attached storage LUN to guest VM via either NFS or iSCSI for virtualized database workload generally provides better performance than storage allocated via VMDK. Following graphic shows NetApp recommended storage layout for large SQL Server database on LUNs:

image:storage_layout_sqlsvr_large.PNG[Error: Missing Graphic Image]

Following graphic shows NetApp recommended storage layout for small or medium SQL Server database on LUNs:

image:storage_layout_sqlsvr_smallmedium.PNG[Error: Missing Graphic Image]

Note: the Log directory is dedicated to SnapCenter for transaction log rollup for database recovery. For extra large database, multiple LUNs may be allocated to a volume for better performance.

=== 3. Licensing Requirements

SnapCenter is licensed software from NetApp. It is generally included in on-prem ONTAP license. However, for hybrid cloud deployment, a cloud license for SnapCenter is also required in order to add CVO to SnapCenter as a target data replication destination.

=== 4. Networking and Security
=== 5. Using Ansible Automation to Sync Up DB Instances between On-prem and Cloud - Optional

To simplify management of hybrid cloud database environment, it is highly recommended but not required to deploy an Ansible controller to automate some of management tasks such as keeping compute instance between on-prem and cloud in sync.

This is particular important as out of sync compute instance in cloud with on-prem might render the recovered database in cloud error prone because of missing kernel package etc.

The automation capability of Ansible controller also could be used to argument SnapCenter for certain tasks such as breaking up the snapmirror to activate the DR data copy for production.

== Public Cloud
