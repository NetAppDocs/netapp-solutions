---
sidebar: sidebar
permalink: virtualization/vsphere_ontap_asa_design.html
keywords: vsphere, ontap, cloud insights, asa, all-flash san array, 
summary:
---

= NetApp ASA and VMware vSphere 8 Design Guide
:hardbreaks:
:nofooter:
:icons: font
:linkattrs:
// For the imagesdir setting, make sure the path to the media folder is correct.  The default path assumes
// the source is located in the root of the repository.  Select the appropriate setting based on the level
// of the folder containing the source
//:imagesdir: ./media/
//:imagesdir: ./../media/
:imagesdir: ./../media/


[.lead]
Authors: Chris Reno, Josh Powell, Suresh Thoppay - NetApp Solutions Engineering

== Overview
// Describe WHAT problem this solution addresses.  What are the use cases(s) and how does it solve a problem?
// Use a bulleted list and keep it brief!

NetApp ASA systems addresses the customer demands for dedicated SAN array with dual active controllers with options to scale, data availability & protection, sustainability and well integrated into VMware environments.

=== Use Cases
This solution addresses the following use cases:

* Migrate low-latency workloads from iSCSI to NVMe namespace
* VMware VMFS datastores (FC,iSCSI) with ONTAP Tools
* VMware VMFS datastores (NVMe/FC,NVMe/TCP)
* VMware vVol datastores (FC,iSCSI,NVMe/FC) with ONTAP Tools
* VM guest data access with (iSCSI,NVMe/TCP)
* Kubernetes workload storage with Astra Trident CSI (iSCSI,NVMe/TCP)
* Kubernetes workload storage with Cloud Native Storage CSI (FC,iSCSI,NVMe/FC,NVMe/TCP) 
* VMware vSphere Metro Storage Cluster (vMSC) with Uniform and Non-Uniform host access mode
* Backup and Recovery of VMs with SnapCenter Plug-in for VMware vSphere
* Operational Monitoring with Cloud Insights
* Integrate into existing automation workflows with ONTAP API.

=== NetApp ONTAP Data Storage

.Prerequisites
[%collapsible]
=====
* NetApp ASA system deployed.
* FC Zones are configured on FC switches (Not applicable for iSCSI, NVMe/TCP).
* Portsets are configured on ONTAP (Optional).
* VLANs are configured on Ethernet switches and on ONTAP (Not applicable for FC, NVMe/FC).
* SVM and data access interfaces are configured.
* Management address, credentials for cluster and SVM are available.
=====

=== VMware vSphere 8

.Prerequisites
[%collapsible]
=====
* Initiator configured for iSCSI or NVMe/TCP.
* Port groups configured for each VLAN (Not applicable for FC, NVMe/FC).
* VMKernel ports created for iSCSI or NVMe/TCP on vSphere hosts.
* ONTAP Tools deployed.
* Registered ASA system with cluster credentials on ONTAP Tools.
* SnapCenter Plug-in for VMware vSphere deployed.
* Registered ASA system with cluster credentials on SnapCenter Plug-in for VMware vSphere.
=====

== High Level Architecture
// Identify the environment in which the solution was tested / validated.

// Things to consider including here are:
// * Architecture diagram
// * Software / hardware and version / release levels or model numbers
// * Specific configuration that might be unique to a lab / test environment

image::vsphere_ontap_asa_design01.png[High level architecture diagram]

== Solution Deployment
// Describe the steps required to fully deploy the solution.
// Please use collapsible blocks with descriptive titles to condense the content in the published HTML.
// Include screenshots, demo videos, etc. that make the steps as simple and clear as possible.
// DO NOT overdo it with screenshots - where options are "obvious", a screenshot might not be necessary.



== Conclusion

NetApp ASA systems provides easy to manage vSphere datastores and provides flexibility to replicate to other systems for disaster recovery and high availability use-cases.
ONTAP Tools and SnapCenter Plug-in for VMware vSphere allows VMware administrators use the same portal to provision the datastores and protect the VMs.
Administrators have a choice to pick low latency system with A series or capacity focused with C series. Administrators can have mix of both A series and C series, to place workloads based on their storage policy requirements.

== Additional Information
To learn more about the technologies presented in this solution refer to the following links.

* https://www.netapp.com/pdf.html?item=/media/85671-tr-4968.pdf[TR-4968: Data Availability and Integrity with the
NetApp ASA]
* https://www.netapp.com/media/85736-DS-4254-NetApp-ASA.pdf[ASA datasheet]


